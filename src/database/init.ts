import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

const shameJokes = [
  "Ð“Ð¾Ð²Ð¾Ñ€ÑÑ‚, Ñ‡Ñ‚Ð¾ {username} Ñ‚Ð°Ðº Ñ‡Ð°ÑÑ‚Ð¾ ÑÐ»Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ñ ÐºÐ°Ð±Ð°Ð½Ð¾Ð², Ñ‡Ñ‚Ð¾ ÐµÐ³Ð¾ ÑƒÐ¶Ðµ Ð²ÐºÐ»ÑŽÑ‡Ð¸Ð»Ð¸ Ð² ÐšÑ€Ð°ÑÐ½ÑƒÑŽ ÐºÐ½Ð¸Ð³Ñƒ ÐºÐ°Ðº Ð¸ÑÑ‡ÐµÐ·Ð°ÑŽÑ‰Ð¸Ð¹ Ð²Ð¸Ð´ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°.",
  "{username} ÑÐ½Ð¾Ð²Ð° ÑÐ»Ð¸Ð²Ð°ÐµÑ‚ÑÑ? ÐÐ°Ð²ÐµÑ€Ð½Ð¾Ðµ, Ð´ÑƒÐ¼Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ Â«ÐºÐ°Ð±Ð°Ð½Â» â€” ÑÑ‚Ð¾ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ñ„Ð¸Ð»ÑŒÐ¼Ð° ÑƒÐ¶Ð°ÑÐ¾Ð².",
  "Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚: {username} ÑƒÑ‡Ð°ÑÑ‚Ð²ÑƒÐµÑ‚ Ð² ÐºÐ°Ð±Ð°Ð½Ð°Ñ… Ñ€ÐµÐ¶Ðµ, Ñ‡ÐµÐ¼ Ð¿Ð¾ÑÐ²Ð»ÑÑŽÑ‚ÑÑ Ð·Ð°Ñ‚Ð¼ÐµÐ½Ð¸Ñ ÑÐ¾Ð»Ð½Ñ†Ð°.",
  "{username} Ð¾Ð¿ÑÑ‚ÑŒ Ð½Ðµ Ð¸Ð´ÐµÑ‚? ÐœÐ¾Ð¶ÐµÑ‚, ÑÑ‚Ð¾Ð¸Ñ‚ Ð¿ÐµÑ€ÐµÐ¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ°Ð±Ð°Ð½Ð° Ð² Â«Ð²ÑÑ‚Ñ€ÐµÑ‡Ñƒ Ð´Ð»Ñ Ð²ÑÐµÑ…, ÐºÑ€Ð¾Ð¼Ðµ {username}Â»?",
  "Ð•ÑÐ»Ð¸ Ð±Ñ‹ ÑÐ»Ð¸Ð²Ñ‹ Ñ ÐºÐ°Ð±Ð°Ð½Ð¾Ð² Ð±Ñ‹Ð»Ð¸ Ð¾Ð»Ð¸Ð¼Ð¿Ð¸Ð¹ÑÐºÐ¸Ð¼ Ð²Ð¸Ð´Ð¾Ð¼ ÑÐ¿Ð¾Ñ€Ñ‚Ð°, {username} Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð» Ð±Ñ‹ Ð·Ð¾Ð»Ð¾Ñ‚Ð¾.",
  "{username} ÑÐ»Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ñ‚Ð°Ðº Ð¼Ð°ÑÑ‚ÐµÑ€ÑÐºÐ¸, Ñ‡Ñ‚Ð¾ Ð´Ð°Ð¶Ðµ Ð²Ð¾Ð´Ð¾Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ñ‡Ð¸ÐºÐ¸ Ð·Ð°Ð²Ð¸Ð´ÑƒÑŽÑ‚ ÐµÐ³Ð¾ Ð½Ð°Ð²Ñ‹ÐºÐ°Ð¼.",
  "Ð›ÐµÐ³ÐµÐ½Ð´Ð° Ð³Ð»Ð°ÑÐ¸Ñ‚: {username} ÐºÐ¾Ð³Ð´Ð°-Ñ‚Ð¾ Ð¿Ñ€Ð¸ÑˆÐµÐ» Ð½Ð° ÐºÐ°Ð±Ð°Ð½Ð°, Ð½Ð¾ ÑÑ‚Ð¾ Ð±Ñ‹Ð»Ð¾ Ñ‚Ð°Ðº Ð´Ð°Ð²Ð½Ð¾, Ñ‡Ñ‚Ð¾ ÑÐ²Ð¸Ð´ÐµÑ‚ÐµÐ»Ð¸ ÑƒÐ¶Ðµ Ð·Ð°Ð±Ñ‹Ð»Ð¸, ÐºÐ°Ðº Ð¾Ð½ Ð²Ñ‹Ð³Ð»ÑÐ´Ð¸Ñ‚.",
  "ÐšÐ°Ð±Ð°Ð½ Ð±ÐµÐ· {username} â€” ÐºÐ°Ðº Ð±Ð¾Ñ€Ñ‰ Ð±ÐµÐ· ÑÐ¼ÐµÑ‚Ð°Ð½Ñ‹: Ð¼Ð¾Ð¶Ð½Ð¾ ÐµÑÑ‚ÑŒ, Ð½Ð¾ Ñ‡ÐµÐ³Ð¾-Ñ‚Ð¾ Ð½Ðµ Ñ…Ð²Ð°Ñ‚Ð°ÐµÑ‚. Ð’Ð¿Ñ€Ð¾Ñ‡ÐµÐ¼, Ð¼Ñ‹ Ð¿Ñ€Ð¸Ð²Ñ‹ÐºÐ»Ð¸.",
  "{username} Ð½Ð°ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ€ÐµÐ´ÐºÐ¾ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ Ð½Ð° ÐºÐ°Ð±Ð°Ð½Ñ‹, Ñ‡Ñ‚Ð¾ ÐµÐ³Ð¾ Ñ„Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸ÑŽ ÑƒÐ¶Ðµ Ð¿Ð¾Ð²ÐµÑÐ¸Ð»Ð¸ Ð² Ð¼ÑƒÐ·ÐµÐµ ÐºÐ°Ðº ÑÐºÑÐ¿Ð¾Ð½Ð°Ñ‚ Â«Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸Ðº, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð¼Ñ‹ Ð¿Ð¾Ñ‚ÐµÑ€ÑÐ»Ð¸Â».",
  "Ð•ÑÐ»Ð¸ {username} ÐºÐ¾Ð³Ð´Ð°-Ð½Ð¸Ð±ÑƒÐ´ÑŒ Ð¿Ñ€Ð¸Ð´ÐµÑ‚ Ð½Ð° ÐºÐ°Ð±Ð°Ð½Ð°, ÑÑ‚Ð¾ ÑÑ‚Ð°Ð½ÐµÑ‚ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸ÐµÐ¼, Ð´Ð¾ÑÑ‚Ð¾Ð¹Ð½Ñ‹Ð¼ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ñ€Ð°Ð·Ð´Ð½Ð¸ÐºÐ°."
];

async function initDatabase() {
  try {
    console.log('ðŸ—„ï¸ Initializing database...');

    // Add shame jokes if they don't exist
    const existingJokes = await prisma.joke.count();

    if (existingJokes === 0) {
      console.log('ðŸ“ Adding shame jokes...');

      for (const joke of shameJokes) {
        await prisma.joke.create({
          data: {
            text: joke,
            type: 'shame'
          }
        });
      }

      console.log(`âœ… Added ${shameJokes.length} shame jokes to database`);
    } else {
      console.log(`ðŸ“‹ Database already contains ${existingJokes} jokes`);
    }

    console.log('âœ… Database initialization completed');

  } catch (error) {
    console.error('âŒ Error initializing database:', error);
    throw error;
  } finally {
    await prisma.$disconnect();
  }
}

if (require.main === module) {
  initDatabase()
    .catch((error) => {
      console.error(error);
      process.exit(1);
    });
}

export { initDatabase };
